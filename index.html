<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apprendre le Français - Ghana</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f4f4f4 0%, #e8e8e8 100%);
            overflow-x: hidden;
        }

        /* Ghana Flag Colors */
        .ghana-stripe {
            height: 8px;
            background: linear-gradient(to right, #CE1126 0%, #CE1126 33%, #FCD116 33%, #FCD116 66%, #006B3F 66%, #006B3F 100%);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        header {
            background: linear-gradient(135deg, #006B3F 0%, #005a33 100%);
            color: white;
            padding: 40px 20px 30px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            position: relative;
            margin-top: 8px;
        }

        header::before {
            content: "⭐";
            position: absolute;
            font-size: 80px;
            opacity: 0.1;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            animation: fadeInDown 1s ease;
        }

        .subtitle {
            font-size: 1.2em;
            color: #FCD116;
            animation: fadeInUp 1s ease 0.3s both;
        }

        nav {
            background: #CE1126;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            position: sticky;
            top: 8px;
            z-index: 999;
        }

        .nav-btn {
            background: white;
            color: #CE1126;
            border: none;
            padding: 12px 25px;
            margin: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            border-radius: 25px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            background: #FCD116;
        }

        .nav-btn.active {
            background: #006B3F;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .vocab-item {
            background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%);
            border: 3px solid #FCD116;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .vocab-item::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(252, 209, 22, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .vocab-item:hover::before {
            left: 100%;
        }

        .vocab-item:hover {
            transform: scale(1.05);
            border-color: #CE1126;
            box-shadow: 0 8px 20px rgba(206, 17, 38, 0.3);
        }

        .vocab-item.clicked {
            animation: pulse 0.5s ease;
        }

        .vocab-icon {
            font-size: 60px;
            margin-bottom: 15px;
            display: block;
        }

        .vocab-french {
            font-size: 24px;
            font-weight: bold;
            color: #006B3F;
            margin: 10px 0;
        }

        .vocab-english {
            font-size: 18px;
            color: #666;
            font-style: italic;
        }

        .speaker-icon {
            display: inline-block;
            margin-left: 10px;
            color: #CE1126;
            animation: speaker-pulse 2s infinite;
        }

        /* Quiz and Game Styles */
        .topic-quiz-container {
            background: linear-gradient(135deg, #FCD116 0%, #f4c700 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .topic-game-container {
            background: linear-gradient(135deg, #006B3F 0%, #005a33 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            color: white;
        }

        .quiz-question {
            font-size: 24px;
            color: #006B3F;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
        }

        .quiz-option {
            background: white;
            border: 3px solid #006B3F;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .quiz-option:hover {
            background: #006B3F;
            color: white;
            transform: translateX(10px);
        }

        .quiz-option.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .quiz-option.incorrect {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            max-width: 500px;
            margin: 30px auto;
        }

        .game-card {
            background: white;
            border: 3px solid #FCD116;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: #006B3F;
        }

        .game-card:hover {
            background: #FCD116;
            transform: scale(1.05);
        }

        .game-card.flipped {
            background: #CE1126;
            color: white;
        }

        .score-board {
            background: linear-gradient(135deg, #CE1126 0%, #a01020 100%);
            color: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            font-size: 24px;
            font-weight: bold;
        }

        .btn-primary {
            background: #006B3F;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .btn-primary:hover {
            background: #005a33;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        .btn-secondary {
            background: #FCD116;
            color: #006B3F;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .btn-secondary:hover {
            background: #e6b800;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        /* New Styles for Dialogues and Pronunciation */
        .dialogue-section {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            border-left: 5px solid #CE1126;
        }

        .dialogue-title {
            color: #006B3F;
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
        }

        .dialogue-line {
            background: white;
            margin: 15px 0;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #FCD116;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .dialogue-speaker {
            font-weight: bold;
            color: #CE1126;
            min-width: 100px;
        }

        .dialogue-text {
            flex: 1;
            margin: 0 15px;
            font-size: 1.1em;
        }

        .dialogue-translation {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
            margin-top: 5px;
        }

        .dialogue-audio-btn {
            background: #006B3F;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            margin-left: 5px;
        }

        .dialogue-audio-btn:hover {
            background: #005a33;
            transform: scale(1.05);
        }

        .full-conversation-btn {
            background: #CE1126;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            margin: 20px auto;
            display: block;
        }

        .full-conversation-btn:hover {
            background: #a01020;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        .pronunciation-tips {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 2px solid #FCD116;
        }

        .pronunciation-title {
            color: #CE1126;
            font-size: 1.5em;
            margin-bottom: 15px;
            text-align: center;
        }

        .pronunciation-tip {
            background: white;
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #006B3F;
        }

        .tip-example {
            color: #CE1126;
            font-weight: bold;
            margin-top: 5px;
            font-style: italic;
        }

        .phonetic {
            color: #006B3F;
            font-family: monospace;
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            margin: 0 3px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #006B3F 0%, #FCD116 50%, #CE1126 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .phrase-container {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid #006B3F;
        }

        .phrase-french {
            font-size: 20px;
            font-weight: bold;
            color: #006B3F;
            margin-bottom: 8px;
        }

        .phrase-english {
            font-size: 16px;
            color: #555;
            font-style: italic;
        }

        .hangman-container {
            text-align: center;
            margin: 20px 0;
        }

        .hangman-drawing {
            font-family: monospace;
            font-size: 18px;
            line-height: 1.5;
            margin: 20px 0;
            color: #FCD116;
        }

        .hangman-word {
            font-size: 32px;
            letter-spacing: 10px;
            font-weight: bold;
            margin: 20px 0;
            color: #FCD116;
        }

        .hangman-letters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .hangman-letter {
            width: 40px;
            height: 40px;
            background: #FCD116;
            border: 2px solid #006B3F;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #006B3F;
        }

        .hangman-letter:hover {
            background: #006B3F;
            color: white;
        }

        .hangman-letter.disabled {
            background: #ccc;
            color: #777;
            cursor: not-allowed;
        }

        .flashcard-container {
            perspective: 1000px;
            width: 300px;
            height: 200px;
            margin: 30px auto;
        }

        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .flashcard-front {
            background: #006B3F;
            color: white;
        }

        .flashcard-back {
            background: #FCD116;
            color: #006B3F;
            transform: rotateY(180deg);
        }

        .house-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .room-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 3px solid #006B3F;
            border-radius: 12px;
            padding: 20px;
        }

        .room-title {
            font-size: 24px;
            color: #CE1126;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .gender-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 8px;
            text-align: center;
            line-height: 20px;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }

        .masculine {
            background-color: #006B3F;
        }

        .feminine {
            background-color: #CE1126;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes speaker-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            animation: confetti-fall 3s linear;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8em; }
            .vocab-grid { grid-template-columns: 1fr; }
            .house-grid { grid-template-columns: 1fr; }
            .game-board { grid-template-columns: repeat(2, 1fr); }
            .dialogue-line { flex-direction: column; align-items: flex-start; }
            .dialogue-speaker { min-width: auto; margin-bottom: 5px; }
            .dialogue-text { margin: 0; }
            .dialogue-audio-btn { margin-top: 10px; }
        }
    </style>
</head>
<body>
    <div class="ghana-stripe"></div>
    
    <header>
        <h1>🇬🇭 Apprendre le Français 🇫🇷</h1>
        <p class="subtitle">Learn French the Ghanaian Way!</p>
    </header>

    <nav>
        <button class="nav-btn active" onclick="showSection('home')">🏠 Accueil</button>
        <button class="nav-btn" onclick="showSection('greetings')">👋 Salutations</button>
        <button class="nav-btn" onclick="showSection('house')">🏡 Chez Moi</button>
        <button class="nav-btn" onclick="showSection('school')">🎒 À l'École</button>
        <button class="nav-btn" onclick="showSection('market')">🛒 Au Marché</button>
    </nav>

    <div class="container">
        <!-- Home Section -->
        <div id="home" class="section active">
            <div class="card">
                <h2 style="color: #006B3F; font-size: 2em; margin-bottom: 20px;">Bienvenue! Welcome! Akwaaba!</h2>
                <p style="font-size: 1.2em; line-height: 1.8; color: #555;">
                    This interactive platform helps Ghanaian students learn French through fun activities, 
                    audio pronunciations, and engaging games. Click on any word to hear its pronunciation!
                </p>
                <div style="margin-top: 30px; text-align: center;">
                    <button class="btn-primary" onclick="showSection('greetings')">Start Learning! 🚀</button>
                </div>
            </div>

            <div class="card">
                <h3 style="color: #CE1126; margin-bottom: 15px;">📚 Learning Units:</h3>
                <ul style="font-size: 1.1em; line-height: 2; color: #555;">
                    <li><strong>Unité 1:</strong> Salutations (Greetings) - Learn how to greet people</li>
                    <li><strong>Unité 2:</strong> Chez Moi (My House) - Learn about rooms and household items</li>
                    <li><strong>Unité 3:</strong> À l'École (At School) - Discover school vocabulary</li>
                    <li><strong>Unité 4:</strong> Au Marché (At the Market) - Learn shopping vocabulary with Ghana Cedis</li>
                    <li><strong>Interactive Quizzes & Games</strong> - Test your knowledge in each topic</li>
                    <li><strong>Audio Dialogues</strong> - Practice real conversations</li>
                    <li><strong>Pronunciation Tips</strong> - Learn to speak like a native</li>
                </ul>
            </div>
        </div>

        <!-- Greetings Section -->
        <div id="greetings" class="section">
            <div class="card">
                <h2 style="color: #006B3F; font-size: 2em; margin-bottom: 20px;">👋 Unité 1: Salutations</h2>
                <p style="font-size: 1.1em; margin-bottom: 20px;">Click on each phrase to hear the pronunciation!</p>

                <h3 style="color: #CE1126; margin: 30px 0 20px;">📝 Basic Greetings:</h3>
                <div class="vocab-grid">
                    <div class="vocab-item" onclick="playAudioWithArticle('greeting', 'bonjour')">
                        <span class="vocab-icon">🌞</span>
                        <div class="vocab-french">Bonjour <span class="speaker-icon">🔊</span></div>
                        <div class="vocab-english">Good morning / Hello</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('greeting', 'bonsoir')">
                        <span class="vocab-icon">🌙</span>
                        <div class="vocab-french">Bonsoir <span class="speaker-icon">🔊</span></div>
                        <div class="vocab-english">Good evening</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('greeting', 'bonne_nuit')">
                        <span class="vocab-icon">😴</span>
                        <div class="vocab-french">Bonne nuit <span class="speaker-icon">🔊</span></div>
                        <div class="vocab-english">Good night</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('greeting', 'au_revoir')">
                        <span class="vocab-icon">👋</span>
                        <div class="vocab-french">Au revoir <span class="speaker-icon">🔊</span></div>
                        <div class="vocab-english">Goodbye</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('greeting', 'a_bientot')">
                        <span class="vocab-icon">⏰</span>
                        <div class="vocab-french">À bientôt <span class="speaker-icon">🔊</span></div>
                        <div class="vocab-english">See you soon</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('greeting', 'comment_ca_va')">
                        <span class="vocab-icon">🙂</span>
                        <div class="vocab-french">Comment ça va? <span class="speaker-icon">🔊</span></div>
                        <div class="vocab-english">How are you?</div>
                    </div>
                </div>

                <!-- Pronunciation Tips -->
                <div class="pronunciation-tips">
                    <h3 class="pronunciation-title">🎯 Pronunciation Tips - Greetings</h3>
                    <div class="pronunciation-tip">
                        <strong>Silent Letters:</strong> In French, many letters at the end of words are silent.
                        <div class="tip-example">Example: <span class="phonetic">Bonjour</span> sounds like "bon-zhoor" (silent 'r')</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Nasal Sounds:</strong> French has nasal vowels that don't exist in English.
                        <div class="tip-example">Example: <span class="phonetic">Bonsoir</span> - the "oin" sounds like "wan" in "want"</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>French 'R':</strong> The French 'R' is guttural, made in the back of the throat.
                        <div class="tip-example">Example: <span class="phonetic">Au revoir</span> - practice the 'R' like gently gargling</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Liaison:</strong> Sometimes final consonants connect to following vowel sounds.
                        <div class="tip-example">Example: <span class="phonetic">Comment allez-vous?</span> - the 't' in "comment" connects to "allez"</div>
                    </div>
                </div>

                <!-- Greetings Dialogue -->
                <div class="dialogue-section">
                    <h3 class="dialogue-title">💬 Practice Dialogue - Meeting New Friends</h3>
                    <button class="full-conversation-btn" onclick="playFullConversation('greetings')">
                        🔊 Play Full Conversation
                    </button>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Kofi:</span>
                        <span class="dialogue-text">Bonjour! Comment ça va?</span>
                        <div class="dialogue-translation">Hello! How are you?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('greeting1')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Ama:</span>
                        <span class="dialogue-text">Bonjour! Ça va bien, merci. Et toi?</span>
                        <div class="dialogue-translation">Hello! I'm fine, thank you. And you?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('greeting2')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Kofi:</span>
                        <span class="dialogue-text">Très bien, merci. Je m'appelle Kofi. Comment t'appelles-tu?</span>
                        <div class="dialogue-translation">Very well, thank you. My name is Kofi. What's your name?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('greeting3')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Ama:</span>
                        <span class="dialogue-text">Je m'appelle Ama. Enchantée!</span>
                        <div class="dialogue-translation">My name is Ama. Nice to meet you!</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('greeting4')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Kofi:</span>
                        <span class="dialogue-text">Enchanté! Au revoir, Ama!</span>
                        <div class="dialogue-translation">Nice to meet you! Goodbye, Ama!</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('greeting5')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Ama:</span>
                        <span class="dialogue-text">À bientôt, Kofi!</span>
                        <div class="dialogue-translation">See you soon, Kofi!</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('greeting6')">🔊 Play</button>
                        </div>
                    </div>
                </div>

                <!-- Greetings Quiz -->
                <div class="topic-quiz-container">
                    <h3 style="color: #006B3F; text-align: center; margin-bottom: 20px;">🎯 Greetings Quiz</h3>
                    <div class="score-board">Score: <span id="greetingsScore">0</span> / <span id="greetingsTotal">0</span></div>
                    <div id="greetingsQuizContainer"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn-primary" onclick="startGreetingsQuiz()">Start Quiz 🎮</button>
                    </div>
                </div>

                <!-- Greetings Games -->
                <div class="topic-game-container">
                    <h3 style="color: #FCD116; text-align: center; margin-bottom: 20px;">🎮 Greetings Games</h3>
                    
                    <div style="display: flex; justify-content: center; gap: 20px; margin: 30px 0; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="startGreetingsMemory()">Memory Game 🧠</button>
                        <button class="btn-secondary" onclick="startGreetingsFlashcards()">Flashcards 🔄</button>
                    </div>
                    
                    <!-- Memory Game -->
                    <div id="greetingsMemoryGame" style="display: none;">
                        <div class="score-board">Moves: <span id="greetingsMoves">0</span> | Matches: <span id="greetingsMatches">0</span> / 4</div>
                        <div class="game-board" id="greetingsGameBoard"></div>
                    </div>
                    
                    <!-- Flashcards -->
                    <div id="greetingsFlashcards" style="display: none; text-align: center;">
                        <div class="flashcard-container">
                            <div class="flashcard" id="greetingsFlashcard" onclick="flipGreetingsCard()">
                                <div class="flashcard-front" id="greetingsFlashcardFront">Click to flip</div>
                                <div class="flashcard-back" id="greetingsFlashcardBack"></div>
                            </div>
                        </div>
                        <div style="margin-top: 20px;">
                            <button class="btn-secondary" onclick="nextGreetingsFlashcard()">Next Card ➡️</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- House Section -->
        <div id="house" class="section">
            <div class="card">
                <h2 style="color: #006B3F; font-size: 2em; margin-bottom: 20px;">🏡 Unité 2: Chez Moi</h2>
                <p style="font-size: 1.1em; margin-bottom: 20px;">Click on each item to hear the pronunciation!</p>

                <div class="house-grid">
                    <div class="room-section">
                        <div class="room-title">🚿 LA SALLE DE BAIN</div>
                        <div class="vocab-grid">
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'lavabo')">
                                <span class="vocab-icon">🚰</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator masculine">M</span>Le lavabo <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The sink</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'baignoire')">
                                <span class="vocab-icon">🛁</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La baignoire <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The bathtub</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'glace')">
                                <span class="vocab-icon">🪞</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La glace <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The mirror</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'serviette')">
                                <span class="vocab-icon">🧻</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La serviette <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The towel</div>
                            </div>
                        </div>
                    </div>

                    <div class="room-section">
                        <div class="room-title">🛏️ LA CHAMBRE</div>
                        <div class="vocab-grid">
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'lit')">
                                <span class="vocab-icon">🛏️</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator masculine">M</span>Le lit <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The bed</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'armoire')">
                                <span class="vocab-icon">🚪</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>L'armoire <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The wardrobe</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'oreiller')">
                                <span class="vocab-icon">🛌</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator masculine">M</span>L'oreiller <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The pillow</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'lampe')">
                                <span class="vocab-icon">💡</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La lampe <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The lamp</div>
                            </div>
                        </div>
                    </div>

                    <div class="room-section">
                        <div class="room-title">🍳 LA CUISINE</div>
                        <div class="vocab-grid">
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'cuisiniere')">
                                <span class="vocab-icon">🔥</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La cuisinière <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The stove</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'four')">
                                <span class="vocab-icon">🔲</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator masculine">M</span>Le four <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The oven</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'casserole')">
                                <span class="vocab-icon">🍳</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La casserole <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The pot</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'assiette')">
                                <span class="vocab-icon">🍽️</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>L'assiette <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The plate</div>
                            </div>
                        </div>
                    </div>

                    <div class="room-section">
                        <div class="room-title">🛋️ LE SALON</div>
                        <div class="vocab-grid">
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'television')">
                                <span class="vocab-icon">📺</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La télévision <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The television</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'fauteuil')">
                                <span class="vocab-icon">🪑</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator masculine">M</span>Le fauteuil <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The armchair</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'table')">
                                <span class="vocab-icon">🪑</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La table <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The table</div>
                            </div>
                            <div class="vocab-item" onclick="playAudioWithArticle('house', 'chaise')">
                                <span class="vocab-icon">🪑</span>
                                <div class="vocab-french">
                                    <span class="gender-indicator feminine">F</span>La chaise <span class="speaker-icon">🔊</span>
                                </div>
                                <div class="vocab-english">The chair</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pronunciation Tips -->
                <div class="pronunciation-tips">
                    <h3 class="pronunciation-title">🎯 Pronunciation Tips - House Items</h3>
                    <div class="pronunciation-tip">
                        <strong>French 'U':</strong> The French 'U' is different from English - purse your lips as if saying "oo" but try to say "ee".
                        <div class="tip-example">Example: <span class="phonetic">Cuisinière</span> - the 'ui' sounds like "wee"</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Silent 'H':</strong> The letter 'H' is always silent in French.
                        <div class="tip-example">Example: <span class="phonetic">L'armoire</span> - sounds like "lar-mwar" (silent 'h')</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Final 'E':</strong> Final 'e' is often silent, but it affects the pronunciation of the preceding consonant.
                        <div class="tip-example">Example: <span class="phonetic">La lampe</span> - the 'p' is pronounced because of the following 'e'</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Gender Articles:</strong> Practice the liaison between articles and nouns.
                        <div class="tip-example">Example: <span class="phonetic">L'assiette</span> - the 'l' connects to 'assiette'</div>
                    </div>
                </div>

                <!-- House Dialogue -->
                <div class="dialogue-section">
                    <h3 class="dialogue-title">💬 Practice Dialogue - Describing My House</h3>
                    <button class="full-conversation-btn" onclick="playFullConversation('house')">
                        🔊 Play Full Conversation
                    </button>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Friend:</span>
                        <span class="dialogue-text">Ta maison est grande?</span>
                        <div class="dialogue-translation">Is your house big?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('house1')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">You:</span>
                        <span class="dialogue-text">Oui, j'ai un salon, une cuisine et trois chambres.</span>
                        <div class="dialogue-translation">Yes, I have a living room, a kitchen and three bedrooms.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('house2')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Friend:</span>
                        <span class="dialogue-text">Il y a une télévision dans le salon?</span>
                        <div class="dialogue-translation">Is there a television in the living room?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('house3')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">You:</span>
                        <span class="dialogue-text">Oui, et il y a un grand fauteuil confortable.</span>
                        <div class="dialogue-translation">Yes, and there is a big comfortable armchair.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('house4')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Friend:</span>
                        <span class="dialogue-text">Et la cuisine? Tu aimes cuisiner?</span>
                        <div class="dialogue-translation">And the kitchen? Do you like cooking?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('house5')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">You:</span>
                        <span class="dialogue-text">Oui, j'ai une nouvelle cuisinière et un grand four.</span>
                        <div class="dialogue-translation">Yes, I have a new stove and a big oven.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('house6')">🔊 Play</button>
                        </div>
                    </div>
                </div>

                <!-- House Quiz -->
                <div class="topic-quiz-container">
                    <h3 style="color: #006B3F; text-align: center; margin-bottom: 20px;">🎯 House Vocabulary Quiz</h3>
                    <div class="score-board">Score: <span id="houseScore">0</span> / <span id="houseTotal">0</span></div>
                    <div id="houseQuizContainer"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn-primary" onclick="startHouseQuiz()">Start Quiz 🎮</button>
                    </div>
                </div>

                <!-- House Games -->
                <div class="topic-game-container">
                    <h3 style="color: #FCD116; text-align: center; margin-bottom: 20px;">🎮 House Games</h3>
                    
                    <div style="display: flex; justify-content: center; gap: 20px; margin: 30px 0; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="startHouseHangman()">Hangman 🪢</button>
                        <button class="btn-secondary" onclick="startHouseMemory()">Memory Game 🧠</button>
                    </div>
                    
                    <!-- Hangman Game -->
                    <div id="houseHangman" style="display: none;">
                        <div class="hangman-container">
                            <div class="score-board">Lives: <span id="houseLives">6</span></div>
                            <div class="hangman-drawing">
                                <pre id="houseHangmanArt"></pre>
                            </div>
                            <div class="hangman-word" id="houseHangmanWord"></div>
                            <div class="hangman-letters" id="houseHangmanLetters"></div>
                        </div>
                    </div>
                    
                    <!-- Memory Game -->
                    <div id="houseMemoryGame" style="display: none;">
                        <div class="score-board">Moves: <span id="houseMoves">0</span> | Matches: <span id="houseMatches">0</span> / 4</div>
                        <div class="game-board" id="houseGameBoard"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- School Section -->
        <div id="school" class="section">
            <div class="card">
                <h2 style="color: #006B3F; font-size: 2em; margin-bottom: 20px;">🎒 Unité 3: À l'École</h2>
                
                <h3 style="color: #CE1126; margin: 30px 0 20px;">📚 Dans la salle de classe:</h3>
                <div class="vocab-grid">
                    <div class="vocab-item" onclick="playAudioWithArticle('school', 'livre')">
                        <span class="vocab-icon">📖</span>
                        <div class="vocab-french">
                            <span class="gender-indicator masculine">M</span>Le livre <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The book</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('school', 'cahier')">
                        <span class="vocab-icon">📓</span>
                        <div class="vocab-french">
                            <span class="gender-indicator masculine">M</span>Le cahier <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The notebook</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('school', 'crayon')">
                        <span class="vocab-icon">✏️</span>
                        <div class="vocab-french">
                            <span class="gender-indicator masculine">M</span>Le crayon <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The pencil</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('school', 'stylo')">
                        <span class="vocab-icon">🖊️</span>
                        <div class="vocab-french">
                            <span class="gender-indicator masculine">M</span>Le stylo <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The pen</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('school', 'gomme')">
                        <span class="vocab-icon">🧽</span>
                        <div class="vocab-french">
                            <span class="gender-indicator feminine">F</span>La gomme <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The eraser</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('school', 'regle')">
                        <span class="vocab-icon">📏</span>
                        <div class="vocab-french">
                            <span class="gender-indicator feminine">F</span>La règle <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The ruler</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('school', 'cartable')">
                        <span class="vocab-icon">🎒</span>
                        <div class="vocab-french">
                            <span class="gender-indicator masculine">M</span>Le cartable <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The schoolbag</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('school', 'tableau')">
                        <span class="vocab-icon">⬛</span>
                        <div class="vocab-french">
                            <span class="gender-indicator masculine">M</span>Le tableau <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The blackboard</div>
                    </div>
                </div>

                <!-- Pronunciation Tips -->
                <div class="pronunciation-tips">
                    <h3 class="pronunciation-title">🎯 Pronunciation Tips - School Items</h3>
                    <div class="pronunciation-tip">
                        <strong>French 'J':</strong> The French 'J' sounds like the 's' in "measure" - a soft sound.
                        <div class="tip-example">Example: <span class="phonetic">Cahier</span> - sounds like "ka-yay"</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Nasal Vowels:</strong> When a vowel is followed by 'n' or 'm', it becomes nasal.
                        <div class="tip-example">Example: <span class="phonetic">Crayon</span> - the 'on' sounds like "on" in "song"</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Silent Consonants:</strong> Many final consonants are silent in French.
                        <div class="tip-example">Example: <span class="phonetic">Stylo</span> - sounds like "stee-lo" (silent final 'o' is very soft)</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>French 'EU':</strong> This sound doesn't exist in English - round your lips as if saying "o" but say "e".
                        <div class="tip-example">Example: <span class="phonetic">Gomme</span> - sounds like "gom" with rounded lips</div>
                    </div>
                </div>

                <!-- School Dialogue -->
                <div class="dialogue-section">
                    <h3 class="dialogue-title">💬 Practice Dialogue - In the Classroom</h3>
                    <button class="full-conversation-btn" onclick="playFullConversation('school')">
                        🔊 Play Full Conversation
                    </button>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Teacher:</span>
                        <span class="dialogue-text">Bonjour les élèves! Sortez vos cahiers et vos stylos.</span>
                        <div class="dialogue-translation">Good morning students! Take out your notebooks and pens.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('school1')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Student:</span>
                        <span class="dialogue-text">Madame, j'ai oublié mon crayon. Puis-je emprunter un stylo?</span>
                        <div class="dialogue-translation">Madam, I forgot my pencil. Can I borrow a pen?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('school2')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Teacher:</span>
                        <span class="dialogue-text">Bien sûr. Regardez le tableau, s'il vous plaît.</span>
                        <div class="dialogue-translation">Of course. Look at the board, please.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('school3')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Student:</span>
                        <span class="dialogue-text">J'ai une question. Où est la bibliothèque?</span>
                        <div class="dialogue-translation">I have a question. Where is the library?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('school4')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Teacher:</span>
                        <span class="dialogue-text">La bibliothèque est au premier étage, à gauche.</span>
                        <div class="dialogue-translation">The library is on the first floor, on the left.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('school5')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Student:</span>
                        <span class="dialogue-text">Merci beaucoup, madame!</span>
                        <div class="dialogue-translation">Thank you very much, madam!</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('school6')">🔊 Play</button>
                        </div>
                    </div>
                </div>

                <!-- School Quiz -->
                <div class="topic-quiz-container">
                    <h3 style="color: #006B3F; text-align: center; margin-bottom: 20px;">🎯 School Vocabulary Quiz</h3>
                    <div class="score-board">Score: <span id="schoolScore">0</span> / <span id="schoolTotal">0</span></div>
                    <div id="schoolQuizContainer"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn-primary" onclick="startSchoolQuiz()">Start Quiz 🎮</button>
                    </div>
                </div>

                <!-- School Games -->
                <div class="topic-game-container">
                    <h3 style="color: #FCD116; text-align: center; margin-bottom: 20px;">🎮 School Games</h3>
                    
                    <div style="display: flex; justify-content: center; gap: 20px; margin: 30px 0; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="startSchoolFlashcards()">Flashcards 🔄</button>
                        <button class="btn-secondary" onclick="startSchoolMemory()">Memory Game 🧠</button>
                    </div>
                    
                    <!-- Flashcards -->
                    <div id="schoolFlashcards" style="display: none; text-align: center;">
                        <div class="flashcard-container">
                            <div class="flashcard" id="schoolFlashcard" onclick="flipSchoolCard()">
                                <div class="flashcard-front" id="schoolFlashcardFront">Click to flip</div>
                                <div class="flashcard-back" id="schoolFlashcardBack"></div>
                            </div>
                        </div>
                        <div style="margin-top: 20px;">
                            <button class="btn-secondary" onclick="nextSchoolFlashcard()">Next Card ➡️</button>
                        </div>
                    </div>
                    
                    <!-- Memory Game -->
                    <div id="schoolMemoryGame" style="display: none;">
                        <div class="score-board">Moves: <span id="schoolMoves">0</span> | Matches: <span id="schoolMatches">0</span> / 4</div>
                        <div class="game-board" id="schoolGameBoard"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Market Section -->
        <div id="market" class="section">
            <div class="card">
                <h2 style="color: #006B3F; font-size: 2em; margin-bottom: 20px;">🛒 Unité 4: Au Marché</h2>
                
                <h3 style="color: #CE1126; margin: 30px 0 20px;">🥦 Les fruits et légumes:</h3>
                <div class="vocab-grid">
                    <div class="vocab-item" onclick="playAudioWithArticle('market', 'pomme')">
                        <span class="vocab-icon">🍎</span>
                        <div class="vocab-french">
                            <span class="gender-indicator feminine">F</span>La pomme <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The apple</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('market', 'banane')">
                        <span class="vocab-icon">🍌</span>
                        <div class="vocab-french">
                            <span class="gender-indicator feminine">F</span>La banane <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The banana</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('market', 'tomate')">
                        <span class="vocab-icon">🍅</span>
                        <div class="vocab-french">
                            <span class="gender-indicator feminine">F</span>La tomate <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The tomato</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('market', 'carotte')">
                        <span class="vocab-icon">🥕</span>
                        <div class="vocab-french">
                            <span class="gender-indicator feminine">F</span>La carotte <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The carrot</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('market', 'oignon')">
                        <span class="vocab-icon">🧅</span>
                        <div class="vocab-french">
                            <span class="gender-indicator masculine">M</span>L'oignon <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The onion</div>
                    </div>
                    <div class="vocab-item" onclick="playAudioWithArticle('market', 'piment')">
                        <span class="vocab-icon">🌶️</span>
                        <div class="vocab-french">
                            <span class="gender-indicator masculine">M</span>Le piment <span class="speaker-icon">🔊</span>
                        </div>
                        <div class="vocab-english">The pepper</div>
                    </div>
                </div>

                <!-- Currency Conversion Section -->
                <div class="card" style="background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);">
                    <h3 style="color: #CE1126; text-align: center; margin-bottom: 20px;">💰 Ghana Cedis (GHS) - Useful Phrases</h3>
                    <div class="vocab-grid">
                        <div class="phrase-container">
                            <div class="phrase-french">Combien ça coûte?</div>
                            <div class="phrase-english">How much does it cost?</div>
                        </div>
                        <div class="phrase-container">
                            <div class="phrase-french">C'est combien?</div>
                            <div class="phrase-english">How much is it?</div>
                        </div>
                        <div class="phrase-container">
                            <div class="phrase-french">C'est trop cher</div>
                            <div class="phrase-english">It's too expensive</div>
                        </div>
                        <div class="phrase-container">
                            <div class="phrase-french">Je voudrais...</div>
                            <div class="phrase-english">I would like...</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 20px; padding: 15px; background: white; border-radius: 10px;">
                        <h4 style="color: #006B3F;">Common Market Prices in Ghana</h4>
                        <p style="margin: 10px 0;">🍎 Pommes: 5-10 GHS per kg</p>
                        <p style="margin: 10px 0;">🍌 Bananes: 2-5 GHS per bunch</p>
                        <p style="margin: 10px 0;">🍅 Tomates: 3-8 GHS per kg</p>
                        <p style="margin: 10px 0;">🥕 Carottes: 4-7 GHS per kg</p>
                    </div>
                </div>

                <!-- Pronunciation Tips -->
                <div class="pronunciation-tips">
                    <h3 class="pronunciation-title">🎯 Pronunciation Tips - Market Items</h3>
                    <div class="pronunciation-tip">
                        <strong>French 'OI':</strong> The 'oi' combination sounds like "wa" in English.
                        <div class="tip-example">Example: <span class="phonetic">Oignon</span> - sounds like "on-yon"</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Double Letters:</strong> Double letters in French are pronounced as single sounds.
                        <div class="tip-example">Example: <span class="phonetic">Tomate</span> - the 'mm' is pronounced as a single 'm'</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>Final 'E':</strong> The final 'e' in feminine words is usually silent.
                        <div class="tip-example">Example: <span class="phonetic">Pomme</span> - sounds like "pom" (silent final 'e')</div>
                    </div>
                    <div class="pronunciation-tip">
                        <strong>French 'EN/AN':</strong> These combinations create a nasal sound.
                        <div class="tip-example">Example: <span class="phonetic">Banane</span> - the 'an' sounds like "on" in "song"</div>
                    </div>
                </div>

                <!-- Market Dialogue -->
                <div class="dialogue-section">
                    <h3 class="dialogue-title">💬 Practice Dialogue - Shopping at the Market</h3>
                    <button class="full-conversation-btn" onclick="playFullConversation('market')">
                        🔊 Play Full Conversation
                    </button>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Customer:</span>
                        <span class="dialogue-text">Bonjour! Combien coûtent les bananes?</span>
                        <div class="dialogue-translation">Hello! How much do the bananas cost?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('market1')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Vendor:</span>
                        <span class="dialogue-text">Bonjour! C'est 5 cedis le kilo.</span>
                        <div class="dialogue-translation">Hello! It's 5 cedis per kilo.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('market2')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Customer:</span>
                        <span class="dialogue-text">D'accord, je voudrais deux kilos, s'il vous plaît.</span>
                        <div class="dialogue-translation">Okay, I would like two kilos, please.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('market3')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Vendor:</span>
                        <span class="dialogue-text">Voilà! Ça fait 10 cedis. Vous voulez autre chose?</span>
                        <div class="dialogue-translation">Here you go! That makes 10 cedis. Do you want anything else?</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('market4')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Customer:</span>
                        <span class="dialogue-text">Oui, donnez-moi aussi un kilo de tomates et des carottes.</span>
                        <div class="dialogue-translation">Yes, also give me one kilo of tomatoes and some carrots.</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('market5')">🔊 Play</button>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">Vendor:</span>
                        <span class="dialogue-text">Avec plaisir! Au total, ça fait 25 cedis. Merci beaucoup!</span>
                        <div class="dialogue-translation">With pleasure! In total, that makes 25 cedis. Thank you very much!</div>
                        <div>
                            <button class="dialogue-audio-btn" onclick="playDialogueSentence('market6')">🔊 Play</button>
                        </div>
                    </div>
                </div>

                <!-- Market Quiz -->
                <div class="topic-quiz-container">
                    <h3 style="color: #006B3F; text-align: center; margin-bottom: 20px;">🎯 Market Vocabulary Quiz</h3>
                    <div class="score-board">Score: <span id="marketScore">0</span> / <span id="marketTotal">0</span></div>
                    <div id="marketQuizContainer"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn-primary" onclick="startMarketQuiz()">Start Quiz 🎮</button>
                    </div>
                </div>

                <!-- Market Games -->
                <div class="topic-game-container">
                    <h3 style="color: #FCD116; text-align: center; margin-bottom: 20px;">🎮 Market Games</h3>
                    
                    <div style="display: flex; justify-content: center; gap: 20px; margin: 30px 0; flex-wrap: wrap;">
                        <button class="btn-secondary" onclick="startMarketHangman()">Hangman 🪢</button>
                        <button class="btn-secondary" onclick="startMarketMemory()">Memory Game 🧠</button>
                    </div>
                    
                    <!-- Hangman Game -->
                    <div id="marketHangman" style="display: none;">
                        <div class="hangman-container">
                            <div class="score-board">Lives: <span id="marketLives">6</span></div>
                            <div class="hangman-drawing">
                                <pre id="marketHangmanArt"></pre>
                            </div>
                            <div class="hangman-word" id="marketHangmanWord"></div>
                            <div class="hangman-letters" id="marketHangmanLetters"></div>
                        </div>
                    </div>
                    
                    <!-- Memory Game -->
                    <div id="marketMemoryGame" style="display: none;">
                        <div class="score-board">Moves: <span id="marketMoves">0</span> | Matches: <span id="marketMatches">0</span> / 4</div>
                        <div class="game-board" id="marketGameBoard"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="celebration" id="celebration"></div>

    <script>
        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }

        // Audio pronunciation using Web Speech API with articles
        function playAudioWithArticle(category, word) {
            const vocab = {
                // Greetings
                'greeting': {
                    'bonjour': { text: 'Bonjour', article: '' },
                    'bonsoir': { text: 'Bonsoir', article: '' },
                    'bonne_nuit': { text: 'Bonne nuit', article: '' },
                    'au_revoir': { text: 'Au revoir', article: '' },
                    'a_bientot': { text: 'À bientôt', article: '' },
                    'comment_ca_va': { text: 'Comment ça va', article: '' }
                },
                // House vocabulary
                'house': {
                    'lavabo': { text: 'lavabo', article: 'le', gender: 'm' },
                    'baignoire': { text: 'baignoire', article: 'la', gender: 'f' },
                    'glace': { text: 'glace', article: 'la', gender: 'f' },
                    'serviette': { text: 'serviette', article: 'la', gender: 'f' },
                    'lit': { text: 'lit', article: 'le', gender: 'm' },
                    'armoire': { text: 'armoire', article: 'l\'', gender: 'f' },
                    'oreiller': { text: 'oreiller', article: 'l\'', gender: 'm' },
                    'lampe': { text: 'lampe', article: 'la', gender: 'f' },
                    'cuisiniere': { text: 'cuisinière', article: 'la', gender: 'f' },
                    'four': { text: 'four', article: 'le', gender: 'm' },
                    'casserole': { text: 'casserole', article: 'la', gender: 'f' },
                    'assiette': { text: 'assiette', article: 'l\'', gender: 'f' },
                    'television': { text: 'télévision', article: 'la', gender: 'f' },
                    'fauteuil': { text: 'fauteuil', article: 'le', gender: 'm' },
                    'table': { text: 'table', article: 'la', gender: 'f' },
                    'chaise': { text: 'chaise', article: 'la', gender: 'f' }
                },
                // School vocabulary
                'school': {
                    'livre': { text: 'livre', article: 'le', gender: 'm' },
                    'cahier': { text: 'cahier', article: 'le', gender: 'm' },
                    'crayon': { text: 'crayon', article: 'le', gender: 'm' },
                    'stylo': { text: 'stylo', article: 'le', gender: 'm' },
                    'gomme': { text: 'gomme', article: 'la', gender: 'f' },
                    'regle': { text: 'règle', article: 'la', gender: 'f' },
                    'cartable': { text: 'cartable', article: 'le', gender: 'm' },
                    'tableau': { text: 'tableau', article: 'le', gender: 'm' }
                },
                // Market vocabulary
                'market': {
                    'pomme': { text: 'pomme', article: 'la', gender: 'f' },
                    'banane': { text: 'banane', article: 'la', gender: 'f' },
                    'tomate': { text: 'tomate', article: 'la', gender: 'f' },
                    'carotte': { text: 'carotte', article: 'la', gender: 'f' },
                    'oignon': { text: 'oignon', article: 'l\'', gender: 'm' },
                    'piment': { text: 'piment', article: 'le', gender: 'm' }
                }
            };

            const item = vocab[category][word];
            let fullText = '';
            
            if (item.article) {
                fullText = `${item.article} ${item.text}`;
            } else {
                fullText = item.text;
            }

            // First play the full phrase with article
            const utterance = new SpeechSynthesisUtterance(fullText);
            utterance.lang = 'fr-FR';
            utterance.rate = 0.8;
            
            // Try to use a French voice if available
            const voices = speechSynthesis.getVoices();
            const frenchVoice = voices.find(voice => voice.lang === 'fr-FR');
            if (frenchVoice) {
                utterance.voice = frenchVoice;
            }
            
            speechSynthesis.speak(utterance);

            // Visual feedback
            if (event && event.currentTarget) {
                event.currentTarget.classList.add('clicked');
                setTimeout(() => {
                    event.currentTarget.classList.remove('clicked');
                }, 500);
            }
        }

        // Dialogue Audio Function - Single Sentence
        function playDialogueSentence(dialogueId) {
            const dialogues = {
                // Greetings dialogues
                'greeting1': { text: 'Bonjour! Comment ça va?', translation: 'Hello! How are you?' },
                'greeting2': { text: 'Bonjour! Ça va bien, merci. Et toi?', translation: 'Hello! I\'m fine, thank you. And you?' },
                'greeting3': { text: 'Très bien, merci. Je m\'appelle Kofi. Comment t\'appelles-tu?', translation: 'Very well, thank you. My name is Kofi. What\'s your name?' },
                'greeting4': { text: 'Je m\'appelle Ama. Enchantée!', translation: 'My name is Ama. Nice to meet you!' },
                'greeting5': { text: 'Enchanté! Au revoir, Ama!', translation: 'Nice to meet you! Goodbye, Ama!' },
                'greeting6': { text: 'À bientôt, Kofi!', translation: 'See you soon, Kofi!' },
                
                // House dialogues
                'house1': { text: 'Ta maison est grande?', translation: 'Is your house big?' },
                'house2': { text: 'Oui, j\'ai un salon, une cuisine et trois chambres.', translation: 'Yes, I have a living room, a kitchen and three bedrooms.' },
                'house3': { text: 'Il y a une télévision dans le salon?', translation: 'Is there a television in the living room?' },
                'house4': { text: 'Oui, et il y a un grand fauteuil confortable.', translation: 'Yes, and there is a big comfortable armchair.' },
                'house5': { text: 'Et la cuisine? Tu aimes cuisiner?', translation: 'And the kitchen? Do you like cooking?' },
                'house6': { text: 'Oui, j\'ai une nouvelle cuisinière et un grand four.', translation: 'Yes, I have a new stove and a big oven.' },
                
                // School dialogues
                'school1': { text: 'Bonjour les élèves! Sortez vos cahiers et vos stylos.', translation: 'Good morning students! Take out your notebooks and pens.' },
                'school2': { text: 'Madame, j\'ai oublié mon crayon. Puis-je emprunter un stylo?', translation: 'Madam, I forgot my pencil. Can I borrow a pen?' },
                'school3': { text: 'Bien sûr. Regardez le tableau, s\'il vous plaît.', translation: 'Of course. Look at the board, please.' },
                'school4': { text: 'J\'ai une question. Où est la bibliothèque?', translation: 'I have a question. Where is the library?' },
                'school5': { text: 'La bibliothèque est au premier étage, à gauche.', translation: 'The library is on the first floor, on the left.' },
                'school6': { text: 'Merci beaucoup, madame!', translation: 'Thank you very much, madam!' },
                
                // Market dialogues (updated to use cedis)
                'market1': { text: 'Bonjour! Combien coûtent les bananes?', translation: 'Hello! How much do the bananas cost?' },
                'market2': { text: 'Bonjour! C\'est 5 cedis le kilo.', translation: 'Hello! It\'s 5 cedis per kilo.' },
                'market3': { text: 'D\'accord, je voudrais deux kilos, s\'il vous plaît.', translation: 'Okay, I would like two kilos, please.' },
                'market4': { text: 'Voilà! Ça fait 10 cedis. Vous voulez autre chose?', translation: 'Here you go! That makes 10 cedis. Do you want anything else?' },
                'market5': { text: 'Oui, donnez-moi aussi un kilo de tomates et des carottes.', translation: 'Yes, also give me one kilo of tomatoes and some carrots.' },
                'market6': { text: 'Avec plaisir! Au total, ça fait 25 cedis. Merci beaucoup!', translation: 'With pleasure! In total, that makes 25 cedis. Thank you very much!' }
            };

            const dialogue = dialogues[dialogueId];
            const utterance = new SpeechSynthesisUtterance(dialogue.text);
            utterance.lang = 'fr-FR';
            utterance.rate = 0.7; // Slower for dialogues
            
            // Try to use a French voice if available
            const voices = speechSynthesis.getVoices();
            const frenchVoice = voices.find(voice => voice.lang === 'fr-FR');
            
            if (frenchVoice) {
                utterance.voice = frenchVoice;
            }
            
            // Play the French dialogue
            speechSynthesis.speak(utterance);
        }

        // Full Conversation Function
        function playFullConversation(topic) {
            const conversations = {
                'greetings': [
                    { text: 'Bonjour! Comment ça va?', speaker: 'Kofi' },
                    { text: 'Bonjour! Ça va bien, merci. Et toi?', speaker: 'Ama' },
                    { text: 'Très bien, merci. Je m\'appelle Kofi. Comment t\'appelles-tu?', speaker: 'Kofi' },
                    { text: 'Je m\'appelle Ama. Enchantée!', speaker: 'Ama' },
                    { text: 'Enchanté! Au revoir, Ama!', speaker: 'Kofi' },
                    { text: 'À bientôt, Kofi!', speaker: 'Ama' }
                ],
                'house': [
                    { text: 'Ta maison est grande?', speaker: 'Friend' },
                    { text: 'Oui, j\'ai un salon, une cuisine et trois chambres.', speaker: 'You' },
                    { text: 'Il y a une télévision dans le salon?', speaker: 'Friend' },
                    { text: 'Oui, et il y a un grand fauteuil confortable.', speaker: 'You' },
                    { text: 'Et la cuisine? Tu aimes cuisiner?', speaker: 'Friend' },
                    { text: 'Oui, j\'ai une nouvelle cuisinière et un grand four.', speaker: 'You' }
                ],
                'school': [
                    { text: 'Bonjour les élèves! Sortez vos cahiers et vos stylos.', speaker: 'Teacher' },
                    { text: 'Madame, j\'ai oublié mon crayon. Puis-je emprunter un stylo?', speaker: 'Student' },
                    { text: 'Bien sûr. Regardez le tableau, s\'il vous plaît.', speaker: 'Teacher' },
                    { text: 'J\'ai une question. Où est la bibliothèque?', speaker: 'Student' },
                    { text: 'La bibliothèque est au premier étage, à gauche.', speaker: 'Teacher' },
                    { text: 'Merci beaucoup, madame!', speaker: 'Student' }
                ],
                'market': [
                    { text: 'Bonjour! Combien coûtent les bananes?', speaker: 'Customer' },
                    { text: 'Bonjour! C\'est 5 cedis le kilo.', speaker: 'Vendor' },
                    { text: 'D\'accord, je voudrais deux kilos, s\'il vous plaît.', speaker: 'Customer' },
                    { text: 'Voilà! Ça fait 10 cedis. Vous voulez autre chose?', speaker: 'Vendor' },
                    { text: 'Oui, donnez-moi aussi un kilo de tomates et des carottes.', speaker: 'Customer' },
                    { text: 'Avec plaisir! Au total, ça fait 25 cedis. Merci beaucoup!', speaker: 'Vendor' }
                ]
            };

            const conversation = conversations[topic];
            let index = 0;

            function playNextLine() {
                if (index >= conversation.length) return;

                const line = conversation[index];
                const utterance = new SpeechSynthesisUtterance(line.text);
                utterance.lang = 'fr-FR';
                utterance.rate = 0.7;
                
                // Try to use a French voice if available
                const voices = speechSynthesis.getVoices();
                const frenchVoice = voices.find(voice => voice.lang === 'fr-FR');
                
                if (frenchVoice) {
                    utterance.voice = frenchVoice;
                }
                
                // Highlight the current line being spoken
                highlightDialogueLine(topic, index);
                
                utterance.onend = function() {
                    // Remove highlight after speaking
                    removeDialogueLineHighlight(topic, index);
                    index++;
                    setTimeout(playNextLine, 500); // Small pause between lines
                };
                
                speechSynthesis.speak(utterance);
            }

            playNextLine();
        }

        // Helper function to highlight the current dialogue line
        function highlightDialogueLine(topic, index) {
            const dialogueLines = document.querySelectorAll(`#${topic} .dialogue-line`);
            if (dialogueLines[index]) {
                dialogueLines[index].style.background = '#FCD116';
                dialogueLines[index].style.transform = 'scale(1.02)';
                dialogueLines[index].style.transition = 'all 0.3s ease';
            }
        }

        // Helper function to remove highlight from dialogue line
        function removeDialogueLineHighlight(topic, index) {
            const dialogueLines = document.querySelectorAll(`#${topic} .dialogue-line`);
            if (dialogueLines[index]) {
                dialogueLines[index].style.background = 'white';
                dialogueLines[index].style.transform = 'scale(1)';
            }
        }

        // Celebration effect
        function celebrate(big = false) {
            const celebration = document.getElementById('celebration');
            const colors = ['#CE1126', '#FCD116', '#006B3F', '#ffffff'];
            const count = big ? 50 : 20;

            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    celebration.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }

        // ========== GREETINGS SECTION ==========
        // Greetings Quiz
        let greetingsCurrentQuestion = 0;
        let greetingsScore = 0;
        const greetingsQuestions = [
            {
                question: "How do you say 'Good morning' in French?",
                options: ["Bonsoir", "Bonne nuit", "Bonjour", "Au revoir"],
                correct: 2
            },
            {
                question: "What does 'Comment ça va?' mean?",
                options: ["What is your name?", "How are you?", "Where are you from?", "How old are you?"],
                correct: 1
            },
            {
                question: "Choose the correct French phrase for 'See you soon':",
                options: ["À bientôt", "Au revoir", "Bonne nuit", "Bonjour"],
                correct: 0
            },
            {
                question: "What is 'Bonsoir' in English?",
                options: ["Good morning", "Good night", "Good evening", "Goodbye"],
                correct: 2
            }
        ];

        function startGreetingsQuiz() {
            greetingsCurrentQuestion = 0;
            greetingsScore = 0;
            document.getElementById('greetingsScore').textContent = greetingsScore;
            document.getElementById('greetingsTotal').textContent = greetingsQuestions.length;
            showGreetingsQuestion();
        }

        function showGreetingsQuestion() {
            if (greetingsCurrentQuestion >= greetingsQuestions.length) {
                showGreetingsQuizResults();
                return;
            }

            const q = greetingsQuestions[greetingsCurrentQuestion];
            const container = document.getElementById('greetingsQuizContainer');
            
            let html = `
                <div class="quiz-question">Question ${greetingsCurrentQuestion + 1}/${greetingsQuestions.length}</div>
                <div class="quiz-question">${q.question}</div>
                <div class="quiz-options">
            `;

            q.options.forEach((option, index) => {
                html += `
                    <div class="quiz-option" onclick="checkGreetingsAnswer(${index})">
                        ${option}
                    </div>
                `;
            });

            html += `</div>`;
            container.innerHTML = html;
        }

        function checkGreetingsAnswer(selected) {
            const q = greetingsQuestions[greetingsCurrentQuestion];
            const options = document.querySelectorAll('#greetingsQuizContainer .quiz-option');
            
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });

            if (selected === q.correct) {
                options[selected].classList.add('correct');
                greetingsScore++;
                document.getElementById('greetingsScore').textContent = greetingsScore;
                celebrate();
            } else {
                options[selected].classList.add('incorrect');
                options[q.correct].classList.add('correct');
            }

            setTimeout(() => {
                greetingsCurrentQuestion++;
                showGreetingsQuestion();
            }, 2000);
        }

        function showGreetingsQuizResults() {
            const container = document.getElementById('greetingsQuizContainer');
            const percentage = (greetingsScore / greetingsQuestions.length * 100).toFixed(0);
            
            let message = '';
            let emoji = '';
            
            if (percentage >= 80) {
                message = 'Excellent! Très bien! 🌟';
                emoji = '🎉';
                celebrate(true);
            } else if (percentage >= 60) {
                message = 'Good job! Bon travail! 👍';
                emoji = '😊';
            } else {
                message = 'Keep practicing! Continue à pratiquer! 💪';
                emoji = '📚';
            }

            container.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 80px; margin: 20px 0;">${emoji}</div>
                    <div class="quiz-question">Quiz Complete!</div>
                    <div style="font-size: 48px; color: #006B3F; margin: 20px 0;">
                        ${greetingsScore} / ${greetingsQuestions.length}
                    </div>
                    <div style="font-size: 24px; color: #CE1126; margin: 20px 0;">
                        ${percentage}%
                    </div>
                    <div style="font-size: 28px; font-weight: bold; color: #FCD116; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
                        ${message}
                    </div>
                </div>
            `;
        }

        // Greetings Memory Game
        let greetingsGameCards = [];
        let greetingsFlippedCards = [];
        let greetingsMatchedPairs = 0;
        let greetingsMoves = 0;

        const greetingsMemoryPairs = [
            { french: 'Bonjour', english: 'Hello' },
            { french: 'Bonsoir', english: 'Good evening' },
            { french: 'Au revoir', english: 'Goodbye' },
            { french: 'Merci', english: 'Thank you' }
        ];

        function startGreetingsMemory() {
            // Hide flashcards and show memory game
            document.getElementById('greetingsFlashcards').style.display = 'none';
            document.getElementById('greetingsMemoryGame').style.display = 'block';
            
            greetingsMatchedPairs = 0;
            greetingsMoves = 0;
            greetingsFlippedCards = [];
            document.getElementById('greetingsMoves').textContent = greetingsMoves;
            document.getElementById('greetingsMatches').textContent = greetingsMatchedPairs;

            greetingsGameCards = [];
            greetingsMemoryPairs.forEach((pair, index) => {
                greetingsGameCards.push({ id: index, text: pair.french, type: 'french' });
                greetingsGameCards.push({ id: index, text: pair.english, type: 'english' });
            });

            // Shuffle cards
            greetingsGameCards.sort(() => Math.random() - 0.5);

            const board = document.getElementById('greetingsGameBoard');
            board.innerHTML = '';

            greetingsGameCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'game-card';
                cardElement.innerHTML = '❓';
                cardElement.dataset.index = index;
                cardElement.onclick = () => flipGreetingsCard(index);
                board.appendChild(cardElement);
            });
        }

        function flipGreetingsCard(index) {
            const cardElements = document.querySelectorAll('#greetingsGameBoard .game-card');
            const card = cardElements[index];

            if (greetingsFlippedCards.length >= 2 || card.classList.contains('flipped')) {
                return;
            }

            card.classList.add('flipped');
            card.innerHTML = greetingsGameCards[index].text;
            greetingsFlippedCards.push(index);

            if (greetingsFlippedCards.length === 2) {
                greetingsMoves++;
                document.getElementById('greetingsMoves').textContent = greetingsMoves;
                checkGreetingsMatch();
            }
        }

        function checkGreetingsMatch() {
            const cardElements = document.querySelectorAll('#greetingsGameBoard .game-card');
            const [index1, index2] = greetingsFlippedCards;
            const card1 = greetingsGameCards[index1];
            const card2 = greetingsGameCards[index2];

            setTimeout(() => {
                if (card1.id === card2.id && card1.type !== card2.type) {
                    // Match found!
                    cardElements[index1].style.background = '#28a745';
                    cardElements[index2].style.background = '#28a745';
                    cardElements[index1].style.color = 'white';
                    cardElements[index2].style.color = 'white';
                    greetingsMatchedPairs++;
                    document.getElementById('greetingsMatches').textContent = greetingsMatchedPairs;
                    
                    if (greetingsMatchedPairs === greetingsMemoryPairs.length) {
                        setTimeout(() => {
                            celebrate(true);
                            alert(`🎉 Félicitations! You won in ${greetingsMoves} moves! 🎉`);
                        }, 500);
                    }
                } else {
                    // No match
                    cardElements[index1].classList.remove('flipped');
                    cardElements[index2].classList.remove('flipped');
                    cardElements[index1].innerHTML = '❓';
                    cardElements[index2].innerHTML = '❓';
                }
                greetingsFlippedCards = [];
            }, 1000);
        }

        // Greetings Flashcards
        let greetingsFlashcardIndex = 0;
        const greetingsFlashcards = [
            { french: "Bonjour", english: "Hello / Good morning" },
            { french: "Bonsoir", english: "Good evening" },
            { french: "Au revoir", english: "Goodbye" },
            { french: "Merci", english: "Thank you" },
            { french: "S'il vous plaît", english: "Please" }
        ];

        function startGreetingsFlashcards() {
            // Hide memory game and show flashcards
            document.getElementById('greetingsMemoryGame').style.display = 'none';
            document.getElementById('greetingsFlashcards').style.display = 'block';
            
            greetingsFlashcardIndex = 0;
            showGreetingsFlashcard();
        }

        function showGreetingsFlashcard() {
            const card = greetingsFlashcards[greetingsFlashcardIndex];
            document.getElementById('greetingsFlashcardFront').textContent = card.french;
            document.getElementById('greetingsFlashcardBack').textContent = card.english;
            document.getElementById('greetingsFlashcard').classList.remove('flipped');
        }

        function flipGreetingsCard() {
            const flashcard = document.getElementById('greetingsFlashcard');
            flashcard.classList.toggle('flipped');
            
            if (flashcard.classList.contains('flipped')) {
                playAudioWithArticle('greeting', greetingsFlashcards[greetingsFlashcardIndex].french.toLowerCase().replace(/ /g, '_').replace(/'/g, '_'));
            }
        }

        function nextGreetingsFlashcard() {
            greetingsFlashcardIndex = (greetingsFlashcardIndex + 1) % greetingsFlashcards.length;
            showGreetingsFlashcard();
        }

        // ========== HOUSE SECTION ==========
        // House Quiz
        let houseCurrentQuestion = 0;
        let houseScore = 0;
        const houseQuestions = [
            {
                question: "What is 'le lit' in English?",
                options: ["The bed", "The chair", "The table", "The lamp"],
                correct: 0
            },
            {
                question: "How do you say 'the television' in French?",
                options: ["La table", "La télévision", "La chaise", "La lampe"],
                correct: 1
            },
            {
                question: "What is 'la cuisine'?",
                options: ["The bathroom", "The bedroom", "The kitchen", "The living room"],
                correct: 2
            },
            {
                question: "Choose the correct French word for 'the mirror':",
                options: ["La serviette", "La glace", "La lampe", "La table"],
                correct: 1
            }
        ];

        function startHouseQuiz() {
            houseCurrentQuestion = 0;
            houseScore = 0;
            document.getElementById('houseScore').textContent = houseScore;
            document.getElementById('houseTotal').textContent = houseQuestions.length;
            showHouseQuestion();
        }

        function showHouseQuestion() {
            if (houseCurrentQuestion >= houseQuestions.length) {
                showHouseQuizResults();
                return;
            }

            const q = houseQuestions[houseCurrentQuestion];
            const container = document.getElementById('houseQuizContainer');
            
            let html = `
                <div class="quiz-question">Question ${houseCurrentQuestion + 1}/${houseQuestions.length}</div>
                <div class="quiz-question">${q.question}</div>
                <div class="quiz-options">
            `;

            q.options.forEach((option, index) => {
                html += `
                    <div class="quiz-option" onclick="checkHouseAnswer(${index})">
                        ${option}
                    </div>
                `;
            });

            html += `</div>`;
            container.innerHTML = html;
        }

        function checkHouseAnswer(selected) {
            const q = houseQuestions[houseCurrentQuestion];
            const options = document.querySelectorAll('#houseQuizContainer .quiz-option');
            
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });

            if (selected === q.correct) {
                options[selected].classList.add('correct');
                houseScore++;
                document.getElementById('houseScore').textContent = houseScore;
                celebrate();
            } else {
                options[selected].classList.add('incorrect');
                options[q.correct].classList.add('correct');
            }

            setTimeout(() => {
                houseCurrentQuestion++;
                showHouseQuestion();
            }, 2000);
        }

        function showHouseQuizResults() {
            const container = document.getElementById('houseQuizContainer');
            const percentage = (houseScore / houseQuestions.length * 100).toFixed(0);
            
            let message = '';
            let emoji = '';
            
            if (percentage >= 80) {
                message = 'Excellent! Très bien! 🌟';
                emoji = '🎉';
                celebrate(true);
            } else if (percentage >= 60) {
                message = 'Good job! Bon travail! 👍';
                emoji = '😊';
            } else {
                message = 'Keep practicing! Continue à pratiquer! 💪';
                emoji = '📚';
            }

            container.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 80px; margin: 20px 0;">${emoji}</div>
                    <div class="quiz-question">Quiz Complete!</div>
                    <div style="font-size: 48px; color: #006B3F; margin: 20px 0;">
                        ${houseScore} / ${houseQuestions.length}
                    </div>
                    <div style="font-size: 24px; color: #CE1126; margin: 20px 0;">
                        ${percentage}%
                    </div>
                    <div style="font-size: 28px; font-weight: bold; color: #FCD116; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
                        ${message}
                    </div>
                </div>
            `;
        }

        // House Hangman Game
        let houseHangmanWord = '';
        let houseHangmanGuessed = [];
        let houseHangmanLives = 6;
        const houseHangmanWords = ['LIT', 'TABLE', 'CHAISE', 'LAMPE', 'CUISINE', 'SALON'];

        function startHouseHangman() {
            // Hide memory game and show hangman
            document.getElementById('houseMemoryGame').style.display = 'none';
            document.getElementById('houseHangman').style.display = 'block';
            
            houseHangmanLives = 6;
            houseHangmanGuessed = [];
            document.getElementById('houseLives').textContent = houseHangmanLives;
            
            // Select random word
            houseHangmanWord = houseHangmanWords[Math.floor(Math.random() * houseHangmanWords.length)];
            
            updateHouseHangmanDisplay();
            createHouseHangmanLetters();
        }

        function updateHouseHangmanDisplay() {
            const wordDisplay = document.getElementById('houseHangmanWord');
            const artDisplay = document.getElementById('houseHangmanArt');
            
            // Update word display
            let displayWord = '';
            for (let letter of houseHangmanWord) {
                if (houseHangmanGuessed.includes(letter)) {
                    displayWord += letter + ' ';
                } else {
                    displayWord += '_ ';
                }
            }
            wordDisplay.textContent = displayWord;
            
            // Update hangman art
            const hangmanArt = [
                `
                   -----
                   |   |
                   |
                   |
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |   |
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |  /|
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |  /|\\
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |  /|\\
                   |  /
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |  /|\\
                   |  / \\
                   |
                ----------
                `
            ];
            
            artDisplay.textContent = hangmanArt[6 - houseHangmanLives];
            
            // Check if game is over
            if (houseHangmanLives <= 0) {
                setTimeout(() => {
                    alert(`Game Over! The word was: ${houseHangmanWord}`);
                    startHouseHangman(); // Restart game
                }, 500);
            } else if (!displayWord.includes('_')) {
                setTimeout(() => {
                    celebrate(true);
                    alert(`🎉 Félicitations! You guessed the word: ${houseHangmanWord}`);
                    startHouseHangman(); // Restart game
                }, 500);
            }
        }

        function createHouseHangmanLetters() {
            const lettersContainer = document.getElementById('houseHangmanLetters');
            lettersContainer.innerHTML = '';
            
            for (let i = 65; i <= 90; i++) {
                const letter = String.fromCharCode(i);
                const letterElement = document.createElement('div');
                letterElement.className = 'hangman-letter';
                letterElement.textContent = letter;
                letterElement.onclick = () => guessHouseHangmanLetter(letter);
                lettersContainer.appendChild(letterElement);
            }
        }

        function guessHouseHangmanLetter(letter) {
            if (houseHangmanGuessed.includes(letter)) return;
            
            houseHangmanGuessed.push(letter);
            
            if (!houseHangmanWord.includes(letter)) {
                houseHangmanLives--;
                document.getElementById('houseLives').textContent = houseHangmanLives;
            }
            
            // Disable the guessed letter
            const letterElements = document.querySelectorAll('#houseHangmanLetters .hangman-letter');
            letterElements.forEach(el => {
                if (el.textContent === letter) {
                    el.classList.add('disabled');
                }
            });
            
            updateHouseHangmanDisplay();
        }

        // House Memory Game
        let houseGameCards = [];
        let houseFlippedCards = [];
        let houseMatchedPairs = 0;
        let houseMoves = 0;

        const houseMemoryPairs = [
            { french: 'Lit', english: 'Bed' },
            { french: 'Table', english: 'Table' },
            { french: 'Chaise', english: 'Chair' },
            { french: 'Lampe', english: 'Lamp' }
        ];

        function startHouseMemory() {
            // Hide hangman and show memory game
            document.getElementById('houseHangman').style.display = 'none';
            document.getElementById('houseMemoryGame').style.display = 'block';
            
            houseMatchedPairs = 0;
            houseMoves = 0;
            houseFlippedCards = [];
            document.getElementById('houseMoves').textContent = houseMoves;
            document.getElementById('houseMatches').textContent = houseMatchedPairs;

            houseGameCards = [];
            houseMemoryPairs.forEach((pair, index) => {
                houseGameCards.push({ id: index, text: pair.french, type: 'french' });
                houseGameCards.push({ id: index, text: pair.english, type: 'english' });
            });

            // Shuffle cards
            houseGameCards.sort(() => Math.random() - 0.5);

            const board = document.getElementById('houseGameBoard');
            board.innerHTML = '';

            houseGameCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'game-card';
                cardElement.innerHTML = '❓';
                cardElement.dataset.index = index;
                cardElement.onclick = () => flipHouseCard(index);
                board.appendChild(cardElement);
            });
        }

        function flipHouseCard(index) {
            const cardElements = document.querySelectorAll('#houseGameBoard .game-card');
            const card = cardElements[index];

            if (houseFlippedCards.length >= 2 || card.classList.contains('flipped')) {
                return;
            }

            card.classList.add('flipped');
            card.innerHTML = houseGameCards[index].text;
            houseFlippedCards.push(index);

            if (houseFlippedCards.length === 2) {
                houseMoves++;
                document.getElementById('houseMoves').textContent = houseMoves;
                checkHouseMatch();
            }
        }

        function checkHouseMatch() {
            const cardElements = document.querySelectorAll('#houseGameBoard .game-card');
            const [index1, index2] = houseFlippedCards;
            const card1 = houseGameCards[index1];
            const card2 = houseGameCards[index2];

            setTimeout(() => {
                if (card1.id === card2.id && card1.type !== card2.type) {
                    // Match found!
                    cardElements[index1].style.background = '#28a745';
                    cardElements[index2].style.background = '#28a745';
                    cardElements[index1].style.color = 'white';
                    cardElements[index2].style.color = 'white';
                    houseMatchedPairs++;
                    document.getElementById('houseMatches').textContent = houseMatchedPairs;
                    
                    if (houseMatchedPairs === houseMemoryPairs.length) {
                        setTimeout(() => {
                            celebrate(true);
                            alert(`🎉 Félicitations! You won in ${houseMoves} moves! 🎉`);
                        }, 500);
                    }
                } else {
                    // No match
                    cardElements[index1].classList.remove('flipped');
                    cardElements[index2].classList.remove('flipped');
                    cardElements[index1].innerHTML = '❓';
                    cardElements[index2].innerHTML = '❓';
                }
                houseFlippedCards = [];
            }, 1000);
        }

        // ========== SCHOOL SECTION ==========
        // School Quiz
        let schoolCurrentQuestion = 0;
        let schoolScore = 0;
        const schoolQuestions = [
            {
                question: "What is 'le livre' in English?",
                options: ["The notebook", "The book", "The pencil", "The pen"],
                correct: 1
            },
            {
                question: "How do you say 'the pencil' in French?",
                options: ["Le stylo", "Le crayon", "Le cahier", "La gomme"],
                correct: 1
            },
            {
                question: "What is 'la règle'?",
                options: ["The ruler", "The eraser", "The schoolbag", "The blackboard"],
                correct: 0
            },
            {
                question: "Choose the correct French word for 'the notebook':",
                options: ["Le livre", "Le cahier", "Le stylo", "Le cartable"],
                correct: 1
            }
        ];

        function startSchoolQuiz() {
            schoolCurrentQuestion = 0;
            schoolScore = 0;
            document.getElementById('schoolScore').textContent = schoolScore;
            document.getElementById('schoolTotal').textContent = schoolQuestions.length;
            showSchoolQuestion();
        }

        function showSchoolQuestion() {
            if (schoolCurrentQuestion >= schoolQuestions.length) {
                showSchoolQuizResults();
                return;
            }

            const q = schoolQuestions[schoolCurrentQuestion];
            const container = document.getElementById('schoolQuizContainer');
            
            let html = `
                <div class="quiz-question">Question ${schoolCurrentQuestion + 1}/${schoolQuestions.length}</div>
                <div class="quiz-question">${q.question}</div>
                <div class="quiz-options">
            `;

            q.options.forEach((option, index) => {
                html += `
                    <div class="quiz-option" onclick="checkSchoolAnswer(${index})">
                        ${option}
                    </div>
                `;
            });

            html += `</div>`;
            container.innerHTML = html;
        }

        function checkSchoolAnswer(selected) {
            const q = schoolQuestions[schoolCurrentQuestion];
            const options = document.querySelectorAll('#schoolQuizContainer .quiz-option');
            
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });

            if (selected === q.correct) {
                options[selected].classList.add('correct');
                schoolScore++;
                document.getElementById('schoolScore').textContent = schoolScore;
                celebrate();
            } else {
                options[selected].classList.add('incorrect');
                options[q.correct].classList.add('correct');
            }

            setTimeout(() => {
                schoolCurrentQuestion++;
                showSchoolQuestion();
            }, 2000);
        }

        function showSchoolQuizResults() {
            const container = document.getElementById('schoolQuizContainer');
            const percentage = (schoolScore / schoolQuestions.length * 100).toFixed(0);
            
            let message = '';
            let emoji = '';
            
            if (percentage >= 80) {
                message = 'Excellent! Très bien! 🌟';
                emoji = '🎉';
                celebrate(true);
            } else if (percentage >= 60) {
                message = 'Good job! Bon travail! 👍';
                emoji = '😊';
            } else {
                message = 'Keep practicing! Continue à pratiquer! 💪';
                emoji = '📚';
            }

            container.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 80px; margin: 20px 0;">${emoji}</div>
                    <div class="quiz-question">Quiz Complete!</div>
                    <div style="font-size: 48px; color: #006B3F; margin: 20px 0;">
                        ${schoolScore} / ${schoolQuestions.length}
                    </div>
                    <div style="font-size: 24px; color: #CE1126; margin: 20px 0;">
                        ${percentage}%
                    </div>
                    <div style="font-size: 28px; font-weight: bold; color: #FCD116; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
                        ${message}
                    </div>
                </div>
            `;
        }

        // School Flashcards
        let schoolFlashcardIndex = 0;
        const schoolFlashcards = [
            { french: "Livre", english: "Book" },
            { french: "Cahier", english: "Notebook" },
            { french: "Crayon", english: "Pencil" },
            { french: "Stylo", english: "Pen" },
            { french: "Gomme", english: "Eraser" },
            { french: "Règle", english: "Ruler" },
            { french: "Cartable", english: "Schoolbag" },
            { french: "Tableau", english: "Blackboard" }
        ];

        function startSchoolFlashcards() {
            // Hide memory game and show flashcards
            document.getElementById('schoolMemoryGame').style.display = 'none';
            document.getElementById('schoolFlashcards').style.display = 'block';
            
            schoolFlashcardIndex = 0;
            showSchoolFlashcard();
        }

        function showSchoolFlashcard() {
            const card = schoolFlashcards[schoolFlashcardIndex];
            document.getElementById('schoolFlashcardFront').textContent = card.french;
            document.getElementById('schoolFlashcardBack').textContent = card.english;
            document.getElementById('schoolFlashcard').classList.remove('flipped');
        }

        function flipSchoolCard() {
            const flashcard = document.getElementById('schoolFlashcard');
            flashcard.classList.toggle('flipped');
            
            if (flashcard.classList.contains('flipped')) {
                playAudioWithArticle('school', schoolFlashcards[schoolFlashcardIndex].french.toLowerCase());
            }
        }

        function nextSchoolFlashcard() {
            schoolFlashcardIndex = (schoolFlashcardIndex + 1) % schoolFlashcards.length;
            showSchoolFlashcard();
        }

        // School Memory Game
        let schoolGameCards = [];
        let schoolFlippedCards = [];
        let schoolMatchedPairs = 0;
        let schoolMoves = 0;

        const schoolMemoryPairs = [
            { french: 'Livre', english: 'Book' },
            { french: 'Cahier', english: 'Notebook' },
            { french: 'Crayon', english: 'Pencil' },
            { french: 'Stylo', english: 'Pen' }
        ];

        function startSchoolMemory() {
            // Hide flashcards and show memory game
            document.getElementById('schoolFlashcards').style.display = 'none';
            document.getElementById('schoolMemoryGame').style.display = 'block';
            
            schoolMatchedPairs = 0;
            schoolMoves = 0;
            schoolFlippedCards = [];
            document.getElementById('schoolMoves').textContent = schoolMoves;
            document.getElementById('schoolMatches').textContent = schoolMatchedPairs;

            schoolGameCards = [];
            schoolMemoryPairs.forEach((pair, index) => {
                schoolGameCards.push({ id: index, text: pair.french, type: 'french' });
                schoolGameCards.push({ id: index, text: pair.english, type: 'english' });
            });

            // Shuffle cards
            schoolGameCards.sort(() => Math.random() - 0.5);

            const board = document.getElementById('schoolGameBoard');
            board.innerHTML = '';

            schoolGameCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'game-card';
                cardElement.innerHTML = '❓';
                cardElement.dataset.index = index;
                cardElement.onclick = () => flipSchoolMemoryCard(index);
                board.appendChild(cardElement);
            });
        }

        function flipSchoolMemoryCard(index) {
            const cardElements = document.querySelectorAll('#schoolGameBoard .game-card');
            const card = cardElements[index];

            if (schoolFlippedCards.length >= 2 || card.classList.contains('flipped')) {
                return;
            }

            card.classList.add('flipped');
            card.innerHTML = schoolGameCards[index].text;
            schoolFlippedCards.push(index);

            if (schoolFlippedCards.length === 2) {
                schoolMoves++;
                document.getElementById('schoolMoves').textContent = schoolMoves;
                checkSchoolMatch();
            }
        }

        function checkSchoolMatch() {
            const cardElements = document.querySelectorAll('#schoolGameBoard .game-card');
            const [index1, index2] = schoolFlippedCards;
            const card1 = schoolGameCards[index1];
            const card2 = schoolGameCards[index2];

            setTimeout(() => {
                if (card1.id === card2.id && card1.type !== card2.type) {
                    // Match found!
                    cardElements[index1].style.background = '#28a745';
                    cardElements[index2].style.background = '#28a745';
                    cardElements[index1].style.color = 'white';
                    cardElements[index2].style.color = 'white';
                    schoolMatchedPairs++;
                    document.getElementById('schoolMatches').textContent = schoolMatchedPairs;
                    
                    if (schoolMatchedPairs === schoolMemoryPairs.length) {
                        setTimeout(() => {
                            celebrate(true);
                            alert(`🎉 Félicitations! You won in ${schoolMoves} moves! 🎉`);
                        }, 500);
                    }
                } else {
                    // No match
                    cardElements[index1].classList.remove('flipped');
                    cardElements[index2].classList.remove('flipped');
                    cardElements[index1].innerHTML = '❓';
                    cardElements[index2].innerHTML = '❓';
                }
                schoolFlippedCards = [];
            }, 1000);
        }

        // ========== MARKET SECTION ==========
        // Market Quiz
        let marketCurrentQuestion = 0;
        let marketScore = 0;
        const marketQuestions = [
            {
                question: "What is 'la pomme' in English?",
                options: ["The banana", "The tomato", "The apple", "The carrot"],
                correct: 2
            },
            {
                question: "How do you say 'the banana' in French?",
                options: ["La tomate", "La pomme", "La banane", "La carotte"],
                correct: 2
            },
            {
                question: "What is 'la carotte'?",
                options: ["The onion", "The pepper", "The carrot", "The tomato"],
                correct: 2
            },
            {
                question: "Choose the correct French word for 'the onion':",
                options: ["Le piment", "La tomate", "L'oignon", "La pomme"],
                correct: 2
            }
        ];

        function startMarketQuiz() {
            marketCurrentQuestion = 0;
            marketScore = 0;
            document.getElementById('marketScore').textContent = marketScore;
            document.getElementById('marketTotal').textContent = marketQuestions.length;
            showMarketQuestion();
        }

        function showMarketQuestion() {
            if (marketCurrentQuestion >= marketQuestions.length) {
                showMarketQuizResults();
                return;
            }

            const q = marketQuestions[marketCurrentQuestion];
            const container = document.getElementById('marketQuizContainer');
            
            let html = `
                <div class="quiz-question">Question ${marketCurrentQuestion + 1}/${marketQuestions.length}</div>
                <div class="quiz-question">${q.question}</div>
                <div class="quiz-options">
            `;

            q.options.forEach((option, index) => {
                html += `
                    <div class="quiz-option" onclick="checkMarketAnswer(${index})">
                        ${option}
                    </div>
                `;
            });

            html += `</div>`;
            container.innerHTML = html;
        }

        function checkMarketAnswer(selected) {
            const q = marketQuestions[marketCurrentQuestion];
            const options = document.querySelectorAll('#marketQuizContainer .quiz-option');
            
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });

            if (selected === q.correct) {
                options[selected].classList.add('correct');
                marketScore++;
                document.getElementById('marketScore').textContent = marketScore;
                celebrate();
            } else {
                options[selected].classList.add('incorrect');
                options[q.correct].classList.add('correct');
            }

            setTimeout(() => {
                marketCurrentQuestion++;
                showMarketQuestion();
            }, 2000);
        }

        function showMarketQuizResults() {
            const container = document.getElementById('marketQuizContainer');
            const percentage = (marketScore / marketQuestions.length * 100).toFixed(0);
            
            let message = '';
            let emoji = '';
            
            if (percentage >= 80) {
                message = 'Excellent! Très bien! 🌟';
                emoji = '🎉';
                celebrate(true);
            } else if (percentage >= 60) {
                message = 'Good job! Bon travail! 👍';
                emoji = '😊';
            } else {
                message = 'Keep practicing! Continue à pratiquer! 💪';
                emoji = '📚';
            }

            container.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 80px; margin: 20px 0;">${emoji}</div>
                    <div class="quiz-question">Quiz Complete!</div>
                    <div style="font-size: 48px; color: #006B3F; margin: 20px 0;">
                        ${marketScore} / ${marketQuestions.length}
                    </div>
                    <div style="font-size: 24px; color: #CE1126; margin: 20px 0;">
                        ${percentage}%
                    </div>
                    <div style="font-size: 28px; font-weight: bold; color: #FCD116; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
                        ${message}
                    </div>
                </div>
            `;
        }

        // Market Hangman Game
        let marketHangmanWord = '';
        let marketHangmanGuessed = [];
        let marketHangmanLives = 6;
        const marketHangmanWords = ['POMME', 'BANANE', 'TOMATE', 'CAROTTE', 'OIGNON', 'PIMENT'];

        function startMarketHangman() {
            // Hide memory game and show hangman
            document.getElementById('marketMemoryGame').style.display = 'none';
            document.getElementById('marketHangman').style.display = 'block';
            
            marketHangmanLives = 6;
            marketHangmanGuessed = [];
            document.getElementById('marketLives').textContent = marketHangmanLives;
            
            // Select random word
            marketHangmanWord = marketHangmanWords[Math.floor(Math.random() * marketHangmanWords.length)];
            
            updateMarketHangmanDisplay();
            createMarketHangmanLetters();
        }

        function updateMarketHangmanDisplay() {
            const wordDisplay = document.getElementById('marketHangmanWord');
            const artDisplay = document.getElementById('marketHangmanArt');
            
            // Update word display
            let displayWord = '';
            for (let letter of marketHangmanWord) {
                if (marketHangmanGuessed.includes(letter)) {
                    displayWord += letter + ' ';
                } else {
                    displayWord += '_ ';
                }
            }
            wordDisplay.textContent = displayWord;
            
            // Update hangman art
            const hangmanArt = [
                `
                   -----
                   |   |
                   |
                   |
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |   |
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |  /|
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |  /|\\
                   |
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |  /|\\
                   |  /
                   |
                ----------
                `,
                `
                   -----
                   |   |
                   |   O
                   |  /|\\
                   |  / \\
                   |
                ----------
                `
            ];
            
            artDisplay.textContent = hangmanArt[6 - marketHangmanLives];
            
            // Check if game is over
            if (marketHangmanLives <= 0) {
                setTimeout(() => {
                    alert(`Game Over! The word was: ${marketHangmanWord}`);
                    startMarketHangman(); // Restart game
                }, 500);
            } else if (!displayWord.includes('_')) {
                setTimeout(() => {
                    celebrate(true);
                    alert(`🎉 Félicitations! You guessed the word: ${marketHangmanWord}`);
                    startMarketHangman(); // Restart game
                }, 500);
            }
        }

        function createMarketHangmanLetters() {
            const lettersContainer = document.getElementById('marketHangmanLetters');
            lettersContainer.innerHTML = '';
            
            for (let i = 65; i <= 90; i++) {
                const letter = String.fromCharCode(i);
                const letterElement = document.createElement('div');
                letterElement.className = 'hangman-letter';
                letterElement.textContent = letter;
                letterElement.onclick = () => guessMarketHangmanLetter(letter);
                lettersContainer.appendChild(letterElement);
            }
        }

        function guessMarketHangmanLetter(letter) {
            if (marketHangmanGuessed.includes(letter)) return;
            
            marketHangmanGuessed.push(letter);
            
            if (!marketHangmanWord.includes(letter)) {
                marketHangmanLives--;
                document.getElementById('marketLives').textContent = marketHangmanLives;
            }
            
            // Disable the guessed letter
            const letterElements = document.querySelectorAll('#marketHangmanLetters .hangman-letter');
            letterElements.forEach(el => {
                if (el.textContent === letter) {
                    el.classList.add('disabled');
                }
            });
            
            updateMarketHangmanDisplay();
        }

        // Market Memory Game
        let marketGameCards = [];
        let marketFlippedCards = [];
        let marketMatchedPairs = 0;
        let marketMoves = 0;

        const marketMemoryPairs = [
            { french: 'Pomme', english: 'Apple' },
            { french: 'Banane', english: 'Banana' },
            { french: 'Tomate', english: 'Tomato' },
            { french: 'Carotte', english: 'Carrot' }
        ];

        function startMarketMemory() {
            // Hide hangman and show memory game
            document.getElementById('marketHangman').style.display = 'none';
            document.getElementById('marketMemoryGame').style.display = 'block';
            
            marketMatchedPairs = 0;
            marketMoves = 0;
            marketFlippedCards = [];
            document.getElementById('marketMoves').textContent = marketMoves;
            document.getElementById('marketMatches').textContent = marketMatchedPairs;

            marketGameCards = [];
            marketMemoryPairs.forEach((pair, index) => {
                marketGameCards.push({ id: index, text: pair.french, type: 'french' });
                marketGameCards.push({ id: index, text: pair.english, type: 'english' });
            });

            // Shuffle cards
            marketGameCards.sort(() => Math.random() - 0.5);

            const board = document.getElementById('marketGameBoard');
            board.innerHTML = '';

            marketGameCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'game-card';
                cardElement.innerHTML = '❓';
                cardElement.dataset.index = index;
                cardElement.onclick = () => flipMarketCard(index);
                board.appendChild(cardElement);
            });
        }

        function flipMarketCard(index) {
            const cardElements = document.querySelectorAll('#marketGameBoard .game-card');
            const card = cardElements[index];

            if (marketFlippedCards.length >= 2 || card.classList.contains('flipped')) {
                return;
            }

            card.classList.add('flipped');
            card.innerHTML = marketGameCards[index].text;
            marketFlippedCards.push(index);

            if (marketFlippedCards.length === 2) {
                marketMoves++;
                document.getElementById('marketMoves').textContent = marketMoves;
                checkMarketMatch();
            }
        }

        function checkMarketMatch() {
            const cardElements = document.querySelectorAll('#marketGameBoard .game-card');
            const [index1, index2] = marketFlippedCards;
            const card1 = marketGameCards[index1];
            const card2 = marketGameCards[index2];

            setTimeout(() => {
                if (card1.id === card2.id && card1.type !== card2.type) {
                    // Match found!
                    cardElements[index1].style.background = '#28a745';
                    cardElements[index2].style.background = '#28a745';
                    cardElements[index1].style.color = 'white';
                    cardElements[index2].style.color = 'white';
                    marketMatchedPairs++;
                    document.getElementById('marketMatches').textContent = marketMatchedPairs;
                    
                    if (marketMatchedPairs === marketMemoryPairs.length) {
                        setTimeout(() => {
                            celebrate(true);
                            alert(`🎉 Félicitations! You won in ${marketMoves} moves! 🎉`);
                        }, 500);
                    }
                } else {
                    // No match
                    cardElements[index1].classList.remove('flipped');
                    cardElements[index2].classList.remove('flipped');
                    cardElements[index1].innerHTML = '❓';
                    cardElements[index2].innerHTML = '❓';
                }
                marketFlippedCards = [];
            }, 1000);
        }

        // Initialize on page load
        window.onload = function() {
            // Wait for voices to be loaded
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = () => {
                    // Voices are now loaded
                };
            }
        };
    </script>
</body>
</html>